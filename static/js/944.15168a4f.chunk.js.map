{"version":3,"file":"static/js/944.15168a4f.chunk.js","mappings":"yNAuDMA,GAAiBC,EAAAA,EAAAA,GAAwC,CAC3DC,KAAM,SADaD,EArCuE,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WACjH,OACI,kBAAMC,SAAUH,EAAhB,WACI,0BACI,SAAC,IAAD,CACII,YAAa,QACbC,KAAM,QACNC,UAAWC,EAAAA,EACXC,SAAU,CAACC,EAAAA,QAGnB,0BACI,SAAC,IAAD,CACIL,YAAa,WACbC,KAAM,WACNC,UAAWC,EAAAA,EACXC,SAAU,CAACC,EAAAA,GACXC,KAAM,gBAGd,4BACI,SAAC,IAAD,CAAOA,KAAM,WAAYL,KAAM,aAAcC,UAAWC,EAAAA,IAD5D,kBAICL,IAAc,gBAAKS,IAAK,GAAIC,IAAKV,IACjCA,IAAc,SAAC,IAAD,CAAOE,YAAa,qBAAsBC,KAAM,UAAWC,UAAWC,EAAAA,EAAOC,SAAU,CAACC,EAAAA,KAEtGR,IAAS,gBAAKY,UAAWC,EAAAA,EAAAA,iBAAhB,SACLb,KAEL,0BACI,8CA4ChB,WAAec,EAAAA,EAAAA,KAlCS,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,OACnBf,WAAYc,EAAME,KAAKC,OA+BS,CAACC,MAAAA,EAAAA,IAAzC,EA5Bc,SAACC,GAOX,OAAIA,EAAMJ,QAAe,SAAC,KAAD,CAAUK,GAAI,cAGnC,4BACI,mCACA,SAACzB,EAAD,CAAgBM,SAVP,SAACoB,GACdC,QAAQC,IAAIF,GACZF,EAAMD,OAASC,EAAMD,MAAMG,EAASH,MAAOG,EAASG,SAAUH,EAASI,WAAYJ,EAASrB,aAQpDA,WAAYmB,EAAMnB,oB,6LCpE5D0B,EAAuC,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,SAAWC,EAAU,EAAVA,KACjDC,EAAWD,EAAKE,SAAWF,EAAK7B,MACtC,OACI,iBAAKY,UAAWC,EAAAA,EAAAA,YAAgB,KAAOiB,EAAWjB,EAAAA,EAAAA,MAAU,IAA5D,WACI,yBACKe,IAEJE,IAAY,iBAAMlB,UAAWC,EAAAA,EAAAA,MAAjB,SAA2BgB,EAAK7B,YAK5CgC,EAAoC,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,MAAkBJ,GAAoB,EAA/BD,SAA+B,EAApBC,MAAST,GAAW,YACrF,OAAO,UAACO,EAAD,CAAaE,KAAMA,EAAMI,MAAOA,EAAhC,WAAuC,uCAAcA,GAAWb,IAAhE,QAYEd,EAAiC,SAAC,GAAuC,IAAtC2B,EAAqC,EAArCA,MAAiBJ,GAAoB,EAA9BD,SAA8B,EAApBC,MAAST,GAAW,YACjF,OAAO,UAACO,EAAD,CAAaE,KAAMA,EAAMI,MAAOA,EAAhC,WAAuC,oCAAWA,GAAWb,IAA7D,S,4ECnCJ,IAAMZ,EAAW,SAAC0B,GACvB,IAAIA,EACJ,MAAO,qBAGIC,EAAY,SAACC,GAAD,OAAoB,SAACF,GAC5C,GAAIA,EAAME,OAASA,EAAQ,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCL7B,KAAgB,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB","sources":["components/Login/Login.tsx","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.ts","webpack://samurai-way/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from './../common/FormsControls/FormsControls.module.css';\r\n\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captchaUrl: string\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType, LoginPropsType> & LoginPropsType> = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    placeholder={'Login'}\r\n                    name={'login'}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    placeholder={'Password'}\r\n                    name={'password'}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                    type={'password'}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field type={'checkbox'} name={'rememberMe'} component={Input}/> remember me\r\n            </div>\r\n\r\n            {captchaUrl && <img alt={''} src={captchaUrl}/>}\r\n            {captchaUrl && <Field placeholder={'Symbols from image'} name={'captcha'} component={Input} validate={[required]} />}\r\n\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType, LoginPropsType>({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst mapStateToProps = (state:AppStateType):MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.url\r\n    }\r\n}\r\nconst Login = (props: LoginPropsType) => {\r\n//const Login = (props: any) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        console.log(formData)\r\n        props.login && props.login(formData.login, formData.password, formData.rememberMe, formData.captchaUrl)\r\n    }\r\n\r\n    if (props.isAuth) return <Redirect to={\"/profile\"}/>\r\n\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    login?: (email: string, password: string, rememberMe: boolean, captchaUrl: string) => void\r\n}\r\ntype MapStatePropsType = {\r\n    isAuth?: boolean\r\n    captchaUrl: string\r\n}\r\ntype LoginPropsType = MapStatePropsType & MapDispatchToPropsType\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport {WrappedFieldProps} from \"redux-form\";\r\nimport s from './FormsControls.module.css';\r\n\r\n\r\ninterface TextareaProps extends WrappedFieldProps {\r\n    [key: string]: any; // можно добавить дополнительные параметры через rest-оператор\r\n}\r\n\r\nconst FormControl: React.FC<TextareaProps> = ({ children,  meta}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Textarea: React.FC<TextareaProps> = ({input, children,  meta, ...props}) => {\r\n    return <FormControl meta={meta} input={input}><textarea {...input} {...props}/> </FormControl>\r\n    /*const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            {hasError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    );*/\r\n};\r\n\r\nexport const Input: React.FC<TextareaProps> = ({input, children, meta, ...props}) => {\r\n    return <FormControl meta={meta} input={input}><input {...input} {...props}/> </FormControl>\r\n    /*const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span className={s.error}>{meta.error}</span>}\r\n        </div>\r\n    );*/\r\n};","export const required = (value: string) => {\r\n  if (value) return undefined;\r\n  return 'Field is required';\r\n}\r\n\r\nexport const maxLength = (length: number) => (value: string) => {\r\n  if (value.length > length) return `Max length is ${length} symbols`;\r\n  return undefined;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__EJA-w\",\"error\":\"FormsControls_error__9uWXS\",\"formSummaryError\":\"FormsControls_formSummaryError__ISedJ\"};"],"names":["LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","onSubmit","placeholder","name","component","Input","validate","required","type","alt","src","className","s","connect","state","isAuth","auth","url","login","props","to","formData","console","log","password","rememberMe","FormControl","children","meta","hasError","touched","Textarea","input","value","maxLength","length"],"sourceRoot":""}