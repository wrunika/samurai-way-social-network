"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[80],{3080:function(t,e,s){s.r(e),s.d(e,{default:function(){return A}});var r=s(5671),n=s(3144),i=s(136),a=s(5716),o=s(2791),u="ProfileInfo_avatar__BIWrf",d=s(3658),c=s(184),l=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){var t;(0,r.Z)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,c.jsx)("div",{children:this.state.editMode?(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})}):(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"-----------"})})})}}]),s}(o.Component),p=function(t){var e;return t.profile?(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:u,children:[(0,c.jsx)("img",{src:null===(e=t.profile.photos)||void 0===e?void 0:e.small,alt:"ava"}),(0,c.jsx)("p",{children:t.profile.fullName}),(0,c.jsx)(l,{status:t.status,updateUserStatus:t.updateUserStatus}),"ava + description"]})}):(0,c.jsx)(d.p,{})},h=s(81),f="Post_item__PSwlO",m=function(t){return(0,c.jsxs)("div",{className:f,children:[(0,c.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=c51291d7307ceef69a29521c604ed594628f5e98-4714015-images-thumbs&n=13",alt:"photo"}),t.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:[t.likesCount," like"]})})]})},v="MyPosts_postsBlock__L-aKk",x="MyPosts_posts__4UG3m",j=s(6139),g=s(704),S=s(3079),_=s(1117),Z=(0,S.B)(30),C=(0,g.Z)({form:"addNewPost"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(j.Z,{name:"newPostText",placeholder:"Write something",component:_.g,validate:[S.C,Z]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Send"})})]})})),P=o.memo((function(t){var e=t.profilePage.postsData.map((function(t,e){return(0,c.jsx)(m,{message:t.message,likesCount:t.likesCount},e)}));return(0,c.jsxs)("div",{className:v,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{children:(0,c.jsx)(C,{onSubmit:function(e){t.addPost(e.newPostText)}})}),(0,c.jsx)("div",{className:x,children:e})]})})),y=s(364),U=(0,y.$j)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t((0,h.Wl)(e))}}}))(P),k=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(p,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,c.jsx)(U,{})]})},M=s(9271),w=s(2932),b=s(7781),N=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId||this.props.authorizedUserId;this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(k,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})})}}]),s}(o.Component),A=(0,b.qC)((0,y.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:h.et,getUserStatus:h.Tq,updateUserStatus:h.OL}),w.D,M.EN)(N)},1117:function(t,e,s){s.d(e,{g:function(){return c},I:function(){return l}});var r=s(8683),n=s(5987),i=(s(2791),s(9234)),a=s(184),o=["input","children","meta"],u=["input","children","meta"],d=function(t){var e=t.children,s=t.meta,r=s.touched&&s.error;return(0,a.jsxs)("div",{className:i.Z.formControl+" "+(r?i.Z.error:""),children:[(0,a.jsx)("div",{children:e}),r&&(0,a.jsx)("span",{className:i.Z.error,children:s.error})]})},c=function(t){var e=t.input,s=(t.children,t.meta),i=(0,n.Z)(t,o);return(0,a.jsxs)(d,{meta:s,input:e,children:[(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({},e),i))," "]})},l=function(t){var e=t.input,s=(t.children,t.meta),i=(0,n.Z)(t,u);return(0,a.jsxs)(d,{meta:s,input:e,children:[(0,a.jsx)("input",(0,r.Z)((0,r.Z)({},e),i))," "]})}},2932:function(t,e,s){s.d(e,{D:function(){return c}});var r=s(8683),n=s(5987),i=(s(2791),s(9271)),a=s(364),o=s(184),u=["isAuth"],d=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,a.$j)(d)((function(e){var s=e.isAuth,a=(0,n.Z)(e,u);return s?(0,o.jsx)(t,(0,r.Z)({},a)):(0,o.jsx)(i.l_,{to:"/login"})}))}},3079:function(t,e,s){s.d(e,{C:function(){return r},B:function(){return n}});var r=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},9234:function(t,e){e.Z={formControl:"FormsControls_formControl__EJA-w",error:"FormsControls_error__9uWXS",formSummaryError:"FormsControls_formSummaryError__ISedJ"}}}]);
//# sourceMappingURL=80.aff060ca.chunk.js.map